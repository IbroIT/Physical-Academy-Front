# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ Student Clubs —Å Backend

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç `StudentClubs` —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å backend API –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç 3 —è–∑—ã–∫–∞ (—Ä—É—Å—Å–∫–∏–π, –∞–Ω–≥–ª–∏–π—Å–∫–∏–π, –∫—ã—Ä–≥—ã–∑—Å–∫–∏–π).

## üì¶ –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. **`src/services/api.js`** - –¥–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API —Å—Ç—É–¥–µ–Ω—á–µ—Å–∫–∏—Ö –∫–ª—É–±–æ–≤
2. **`src/hooks/useApi.js`** - –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ö—É–∫–∏ –¥–ª—è —É–¥–æ–±–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å API
3. **`src/components/pages/students/StudentClubs.jsx`** - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–º–µ–Ω–∞ —è–∑—ã–∫–∞

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ —Å–º–µ–Ω–µ —è–∑—ã–∫–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏:

```javascript
// –Ø–∑—ã–∫ –º–µ–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ LanguageSwitcher –∏–ª–∏ i18n
i18n.changeLanguage('en'); // –î–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∑—è—Ç—Å—è –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º
```

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫

–í—Å–µ —Ñ–∏–ª—å—Ç—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ backend:

```javascript
// –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
<select value={selectedCategory} onChange={(e) => setSelectedCategory(e.target.value)}>
  <option value="all">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
  <option value="tech">–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</option>
</select>

// –ü–æ–∏—Å–∫
<input value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} />
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö —Å API

API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä—É–∫—Ç—É –¥–∞–Ω–Ω—ã—Ö:

```json
{
  "title": "–°—Ç—É–¥–µ–Ω—á–µ—Å–∫–∏–µ –∫–ª—É–±—ã –∏ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞",
  "subtitle": "–û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã",
  "stats": [
    { "id": 1, "value": "50+", "label": "–ê–∫—Ç–∏–≤–Ω—ã—Ö –∫–ª—É–±–æ–≤" }
  ],
  "categories": [
    { "id": 1, "slug": "tech", "name": "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ IT" }
  ],
  "clubs": [
    {
      "id": 1,
      "icon": "üíª",
      "name": "IT Club",
      "short_description": "–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ",
      "description": "–ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ",
      "status": "active",
      "members_count": 45,
      "meetings": "–ö–∞–∂–¥—É—é —Å—Ä–µ–¥—É 19:00",
      "tags": ["python", "javascript"],
      "join_link": "https://t.me/itclub",
      "leaders": [
        { "id": 1, "name": "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω", "role": "–ü—Ä–µ–∑–∏–¥–µ–Ω—Ç" }
      ],
      "goals": "–¶–µ–ª–∏ –∫–ª—É–±–∞",
      "motivation": "–ü–æ—á–µ–º—É —Å—Ç–æ–∏—Ç –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è",
      "category": { "id": 1, "slug": "tech", "name": "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏" }
    }
  ]
}
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Backend URL

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü—Ä—è–º–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤ –∫–æ–¥–µ

–û—Ç–∫—Ä–æ–π—Ç–µ `src/services/api.js` –∏ –∏–∑–º–µ–Ω–∏—Ç–µ –±–∞–∑–æ–≤—ã–π URL:

```javascript
class ApiService {
    constructor() {
        this.baseURL = 'https://your-domain.com/api/v1';
    }
}
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
```env
VITE_API_BASE_URL=https://your-domain.com/api/v1
```

2. –û–±–Ω–æ–≤–∏—Ç–µ `src/services/api.js`:
```javascript
class ApiService {
    constructor() {
        this.baseURL = import.meta.env.VITE_API_BASE_URL || 'http://localhost:8000/api/v1';
    }
}
```

3. –î–ª—è production —Å–æ–∑–¥–∞–π—Ç–µ `.env.production`:
```env
VITE_API_BASE_URL=https://api.production.com/api/v1
```

## üåê –†–∞–±–æ—Ç–∞ —Å —è–∑—ã–∫–∞–º–∏

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —è–∑—ã–∫–∏

- `ru` - –†—É—Å—Å–∫–∏–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- `en` - English
- `kg` - –ö—ã—Ä–≥—ã–∑—á–∞

### –ú–∞–ø–ø–∏–Ω–≥ —è–∑—ã–∫–æ–≤

API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–¥ `ky` –¥–ª—è –∫—ã—Ä–≥—ã–∑—Å–∫–æ–≥–æ —è–∑—ã–∫–∞, –Ω–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `kg`. –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

```javascript
getLanguageParam(language) {
    const langMap = {
        'ru': 'ru',
        'kg': 'ky', // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è
        'en': 'en'
    };
    return langMap[language] || 'ru';
}
```

## üìù –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ Backend API

### Endpoint –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∫–ª—É–±–æ–≤

**URL:** `GET /api/v1/student-clubs/clubs/page_data/`

**Query Parameters:**
- `lang` - —è–∑—ã–∫ (ru, en, ky)
- `category` - slug –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `search` - —Å—Ç—Ä–æ–∫–∞ –ø–æ–∏—Å–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**Response:** JSON —Å –ø–æ–ª–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

### Endpoint –¥–ª—è –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è –≤ –∫–ª—É–±

**URL:** `POST /api/v1/student-clubs/clubs/{id}/join/`

**Request Body:**
```json
{
  "email": "student@example.com",
  "name": "–ò–º—è –§–∞–º–∏–ª–∏—è"
}
```

**Response:**
```json
{
  "success": true,
  "message": "–ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞",
  "club_name": "–ù–∞–∑–≤–∞–Ω–∏–µ –∫–ª—É–±–∞",
  "join_link": "https://t.me/club_link"
}
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ API

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ backend –¥–æ—Å—Ç—É–ø–µ–Ω
curl http://localhost:8000/api/v1/student-clubs/clubs/page_data/?lang=ru
```

### 2. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
npm run dev
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å—Ç—É–¥–µ–Ω—á–µ—Å–∫–∏—Ö –∫–ª—É–±–æ–≤
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
3. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ —è–∑—ã–∫ - –¥–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –æ–±–Ω–æ–≤–∏—Ç—å—Å—è
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ñ–∏–ª—å—Ç—Ä—ã –∏ –ø–æ–∏—Å–∫
5. –ù–∞–∂–º–∏—Ç–µ "–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è" –∫ –∫–ª—É–±—É

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–±–ª–µ–º–∞: –î–∞–Ω–Ω—ã–µ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∫–ª–∞–¥–∫—É Network
3. –ù–∞–π–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞ –∏ –¥–∞–Ω–Ω—ã–µ

### –ü—Ä–æ–±–ª–µ–º–∞: CORS –æ—à–∏–±–∫–∞

**–†–µ—à–µ–Ω–∏–µ –Ω–∞ Backend (Django):**
```python
# settings.py
CORS_ALLOWED_ORIGINS = [
    "http://localhost:5173",  # Vite dev server
    "http://localhost:3000",
]

# –∏–ª–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
CORS_ALLOW_ALL_ORIGINS = True
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —è–∑—ã–∫

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ `i18n.language`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ API –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —ç—Ç–æ—Ç —è–∑—ã–∫
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–∞–ø–ø–∏–Ω–≥ –≤ `getLanguageParam()`

## üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤

```javascript
// –í StudentClubs.jsx
const [statusFilter, setStatusFilter] = useState('all');

const filters = {};
if (selectedCategory !== 'all') filters.category = selectedCategory;
if (searchTerm.trim()) filters.search = searchTerm;
if (statusFilter !== 'all') filters.status = statusFilter; // –ù–æ–≤—ã–π —Ñ–∏–ª—å—Ç—Ä

const { data, loading, error } = useStudentClubsPageData(filters);
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö endpoints

```javascript
// –í–º–µ—Å—Ç–æ page_data –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ö—É–∫–∏
import { 
  useStudentClubs, 
  useStudentClubCategories, 
  useStudentClubStats 
} from '../../../hooks/useApi';

const { clubs, loading: clubsLoading } = useStudentClubs({ category: 'tech' });
const { categories, loading: categoriesLoading } = useStudentClubCategories();
const { stats } = useStudentClubStats();
```

### –î–µ—Ç–∞–ª–∏ –∫–ª—É–±–∞ (–æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)

```javascript
import { useStudentClub } from '../../../hooks/useApi';
import { useParams } from 'react-router-dom';

const ClubDetails = () => {
  const { id } = useParams();
  const { club, loading, error } = useStudentClub(id);
  
  if (loading) return <Loading />;
  if (error) return <Error message={error} />;
  
  return (
    <div>
      <h1>{club.name}</h1>
      <p>{club.description}</p>
      {/* –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª—É–±–µ */}
    </div>
  );
};
```

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é API: `API_DOCUMENTATION.md`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–µ—Ç–∞–ª—å–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ: `STUDENT_CLUBS_INTEGRATION.md`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫

## ‚ú® –ì–æ—Ç–æ–≤–æ!

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç StudentClubs —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç —Å backend API –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç 3 —è–∑—ã–∫–∞. –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏ —É–ø—Ä–æ—â–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º.
